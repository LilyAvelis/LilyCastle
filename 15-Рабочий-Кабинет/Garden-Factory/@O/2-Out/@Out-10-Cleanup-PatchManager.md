# @Cleanup ‚Äî –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ patch-manager

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. ‚úÖ –°–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π patch-manager –ø–∞–∫–µ—Ç

**–õ–æ–∫–∞—Ü–∏—è:** `–¢—Ä–æ–Ω–Ω—ã–π-–∑–∞–ª/patch-manager`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
patch-manager/
‚îú‚îÄ‚îÄ package.json         # –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π npm-–ø–∞–∫–µ—Ç @lily-castle/patch-manager
‚îú‚îÄ‚îÄ tsconfig.json        # –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
‚îú‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ .env.example         # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ types.ts         # –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (ProjectDoc, PatchDoc, VersionDoc)
‚îÇ   ‚îú‚îÄ‚îÄ mongo.ts         # MongoDB connection + –∏–Ω–¥–µ–∫—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ parser.ts        # –ü–∞—Ä—Å–µ—Ä markdown/frontmatter
‚îÇ   ‚îú‚îÄ‚îÄ git.ts           # –ü–æ–ª—É—á–µ–Ω–∏–µ git commit hash
‚îÇ   ‚îú‚îÄ‚îÄ config.ts        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ env
‚îÇ   ‚îú‚îÄ‚îÄ env.ts           # –ó–∞–≥—Ä—É–∑—á–∏–∫ .env —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ patch-manager.ts # Core –ª–æ–≥–∏–∫–∞ (PatchManager class)
‚îÇ   ‚îú‚îÄ‚îÄ index.ts         # –≠–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ cli.ts           # Standalone CLI
‚îî‚îÄ‚îÄ dist/                # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–µ–Ω ‚Äî –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Garden-Factory
- –ò–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π CLI: `node dist/cli.js push <file> <project> [options]`
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `PatchManager` –∫–ª–∞—Å—Å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –≤ –ª—é–±–æ–µ –º–µ—Å—Ç–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### 2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Garden-Factory —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å

**package.json:**

```json
"dependencies": {
  "@lily-castle/patch-manager": "file:../../–¢—Ä–æ–Ω–Ω—ã–π-–∑–∞–ª/patch-manager"
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
import { PatchManager } from "@lily-castle/patch-manager";

const manager = new PatchManager();
await manager.pushPatch({ filePath, projectId, version });
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- Garden-Factory –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- patch-manager –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –ó–∞–º–∫–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è patch-manager –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º –∑–∞–≤–∏—Å–∏–º—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º

### 3. ‚úÖ –£–¥–∞–ª—ë–Ω –º—ë—Ä—Ç–≤—ã–π –∫–æ–¥ –∏–∑ Garden-Factory

**–£–¥–∞–ª–µ–Ω–æ:**

- `Garden-Factory/patch-manager/` (–≤–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥)
- `Garden-Factory/tools/patch/` (MCP tool –æ–±—ë—Ä—Ç–∫–∞)
- Patch –∫–æ–º–∞–Ω–¥—ã –∏–∑ `cli.js` (~70 —Å—Ç—Ä–æ–∫ –∂—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏)

**–û—Å—Ç–∞–ª–æ—Å—å:**

- `cli.js` ‚Äî —Ç–æ–ª—å–∫–æ buffer, memo, skeleton, models, status
- –ß–∏—Å—Ç—ã–π MCP —Å–µ—Ä–≤–µ—Ä –±–µ–∑ patch dependencies

### 4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å

**–¢–µ—Å—Ç:**

1. –ü–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ `patch-manager` –∏–∑ `–¢—Ä–æ–Ω–Ω—ã–π-–∑–∞–ª/` –≤ –∫–æ—Ä–µ–Ω—å (`patch-manager-temp`)
2. –û–±–Ω–æ–≤–∏–ª–∏ –ø—É—Ç—å –≤ `package.json` Garden-Factory
3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞–ª–∏ ‚Üí –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
4. –í–µ—Ä–Ω—É–ª–∏ –æ–±—Ä–∞—Ç–Ω–æ ‚Üí –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Patch-manager –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –∫—É–¥–∞ —É–≥–æ–¥–Ω–æ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### Garden-Factory CLI

```bash
‚úì node cli.js buffer push "test"    # OK
‚úì node cli.js skeleton ./src/main.ts # OK
‚úì node cli.js memo write "note"     # OK
‚úó node cli.js patch push ...         # –£–¥–∞–ª–µ–Ω–æ (–∫–∞–∫ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å)
```

### Patch-Manager Standalone

```bash
cd –¢—Ä–æ–Ω–Ω—ã–π-–∑–∞–ª/patch-manager
node dist/cli.js push test-patch.md my-project 1.0.0
# ‚úÖ Success! Patch saved to MongoDB
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

```
LilyCastle/
‚îú‚îÄ‚îÄ –¢—Ä–æ–Ω–Ω—ã–π-–∑–∞–ª/
‚îÇ   ‚îî‚îÄ‚îÄ patch-manager/          # üéØ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤—Å–µ–≥–æ –∑–∞–º–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ src/                # TypeScript –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ dist/               # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JS
‚îÇ       ‚îî‚îÄ‚îÄ package.json        # @lily-castle/patch-manager
‚îÇ
‚îî‚îÄ‚îÄ 15-–†–∞–±–æ—á–∏–π-–ö–∞–±–∏–Ω–µ—Ç/
    ‚îî‚îÄ‚îÄ Garden-Factory/
        ‚îú‚îÄ‚îÄ package.json        # –ó–∞–≤–∏—Å–∏—Ç –æ—Ç patch-manager —á–µ—Ä–µ–∑ file:
        ‚îú‚îÄ‚îÄ cli.js              # –ß–∏—Å—Ç—ã–π CLI (–±–µ–∑ patch)
        ‚îî‚îÄ‚îÄ tools/              # MCP tools (buffer, memo, skeleton)
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ë–ª–∏–∂–∞–π—à–∏–µ (Web UI)

- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Astro –ø—Ä–æ–µ–∫—Ç –≤ `patch-manager/web`
- [ ] API endpoints –¥–ª—è —á—Ç–µ–Ω–∏—è –ø–∞—Ç—á–µ–π –∏–∑ Mongo
- [ ] –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UI: —Ç–∞–±–ª–∏—Ü–∞ + —Ä–µ–Ω–¥–µ—Ä markdown

### –ë—É–¥—É—â–µ–µ (CLI Database-Driven)

–°–º. `@Home-Cli.md` ‚Äî –∫–æ–Ω—Ü–µ–ø—Ü–∏—è DB-driven CLI –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è feature bloat

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

‚úÖ **–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:** Patch-manager –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ø—Ä–∞–≤—ã–º –∫–ª–∏–∫–æ–º
‚úÖ **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å:** –†–∞–±–æ—Ç–∞–µ—Ç standalone –±–µ–∑ Garden-Factory
‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –ª—é–±–æ–º—É –ø—Ä–æ–µ–∫—Ç—É —á–µ—Ä–µ–∑ npm
‚úÖ **–ß–∏—Å—Ç–æ—Ç–∞:** Garden-Factory –∏–∑–±–∞–≤–∏–ª—Å—è –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞, –¥–∞–Ω–Ω—ã–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Mongo

---

**–î–∞—Ç–∞:** 2025-12-07  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏:** Sofia (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥), Milena (–Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)  
**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ, –≥–æ—Ç–æ–≤–æ –∫ Web UI
