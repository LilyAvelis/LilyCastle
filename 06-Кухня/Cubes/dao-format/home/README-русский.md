# üàØ Garden DAO Format - –ö–æ–¥ –∫–∞–∫ –î–∞–æ

> "‰ª£Á†ÅÂç≥ÈÅìÔºåÈÅìÂç≥‰ª£Á†Å" - –ö–æ–¥ –µ—Å—Ç—å –î–∞–æ, –î–∞–æ –µ—Å—Ç—å –∫–æ–¥

## –ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç .dao?

–§–æ—Ä–º–∞—Ç `.dao` (ÈÅì) - —ç—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤—ã–π —Å–ø–æ—Å–æ–± –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞, –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–∏—Ç–∞–π—Å–∫–æ–π **—Å–∏—Å—Ç–µ–º–æ–π –∏–µ—Ä–æ–≥–ª–∏—Ñ–æ–≤**.

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –∫–æ–¥–∞ –∏–º–µ–µ—Ç –¥–≤–∞ —É—Ä–æ–≤–Ω—è:

- **‰Ωì (Body)** - —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ (`.ts`, `.js` –∏ —Ç.–¥.)
- **ÈÅì (Dao)** - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π **—Å—É—â–Ω–æ—Å—Ç—å, –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** –∫–æ–¥–∞ (`.dao`)

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

–í –∫–∏—Ç–∞–π—Å–∫–æ–º —è–∑—ã–∫–µ –æ–¥–∏–Ω –∏–µ—Ä–æ–≥–ª–∏—Ñ = –æ–¥–Ω–æ –ø–æ–ª–Ω–æ–µ –ø–æ–Ω—è—Ç–∏–µ:

- Êú® = –¥–µ—Ä–µ–≤–æ
- Êûó = —Ä–æ—â–∞ (Êú®+Êú®)
- Ê£Æ = –ª–µ—Å (Êú®+Êú®+Êú®)

–§–æ—Ä–º–∞—Ç `.dao` –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ —Å –∫–æ–¥–æ–º:

- –ö–∞–∂–¥—ã–π "–∫—É–±–∏–∫" (–∫—É–±–∏–∫) = –æ–¥–Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∞—è –µ–¥–∏–Ω–∏—Ü–∞
- –û—Ç–Ω–æ—à–µ–Ω–∏—è = ÈúÄ (–Ω—É–∂–¥–∞–µ—Ç—Å—è) + ‰æõ (–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è = Á¶Å (–∑–∞–ø—Ä–µ—â–µ–Ω–æ)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
  views/
    chatViewProvider.ts      ‚Üê ‰Ωì (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞)
    chatViewProvider.dao     ‚Üê ÈÅì (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ)
```

## –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ .dao

```yaml
ÈÅì: ChatViewProvider
Á±ª: class
Â±Ç: core
ÈúÄ: [OpenRouterClient, LedgerService, vscode.WebviewView]
‰æõ: [chat-visual-layer, message-routing]
Á¶Å: [‰∏çÁ¢∞ËÆ°Ë¥π, ‰∏çÂÜôFS, ‰∏çÁõ¥Êé•Ë∞ÉAPI]
ÊÄÅ: stable
‰Ωç: { Êñá‰ª∂: "chatViewProvider.ts", Ë°å: "21-95" }
Ëø∞: "Ëä±Âõ≠ËÅäÂ§©ÁöÑËßÜËßâÂ±ÇÔºåÁÆ°ÁêÜWebviewÊ∂àÊÅØË∑ØÁî±"

Á´ãÊñπ:
  - Âêç: resolveWebviewView
    ÈúÄ: [vscode.WebviewView]
    ‰æõ: [webview-init]
    Á¶Å: [‰∏ç‰øÆÊîπÂÖ®Â±ÄÁä∂ÊÄÅ]
    ÊÄÅ: stable
    ‰Ωç: { Ë°å: "41-60" }

  - Âêç: handleMessage
    ÈúÄ: [openRouterClient, ledgerService]
    ‰æõ: [message-processing]
    Á¶Å: [‰∏çÈòªÂ°ûUI]
    ÊÄÅ: stable
    ‰Ωç: { Ë°å: "61-80" }
```

### –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π

| –ü–æ–ª–µ     | –ó–Ω–∞—á–µ–Ω–∏–µ                   | –ü—Ä–∏–º–µ—Ä                              |
| -------- | -------------------------- | ----------------------------------- |
| **ÈÅì**   | –ü—É—Ç—å/–∏–º—è                   | `ChatViewProvider`                  |
| **Á±ª**   | –¢–∏–ø                        | `class`, `function`, `service`      |
| **Â±Ç**   | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å      | `core`, `edge`, `experimental`      |
| **ÈúÄ**   | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—á—Ç–æ –Ω—É–∂–Ω–æ)    | `[OpenRouterClient, LedgerService]` |
| **‰æõ**   | –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç (—á—Ç–æ –¥–∞—ë—Ç)   | `[chat-visual-layer]`               |
| **Á¶Å**   | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (—á—Ç–æ –Ω–µ–ª—å–∑—è)   | `[‰∏çÁ¢∞ËÆ°Ë¥π, ‰∏çÂÜôFS]`                |
| **ÊÄÅ**   | –°—Ç–∞—Ç—É—Å                     | `stable`, `draft`, `refactor`       |
| **‰Ωç**   | –ü–æ–∑–∏—Ü–∏—è (–≤ –∫–æ–¥–µ)           | `{Êñá‰ª∂, Ë°å}`                        |
| **Ëø∞**   | –û–ø–∏—Å–∞–Ω–∏–µ                   | –ö—Ä–∞—Ç–∫–æ–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ      |
| **Á´ãÊñπ** | –ü–æ–¥–∫—É–±–∏–∫–∏ (–º–µ—Ç–æ–¥—ã/—Ñ—É–Ω–∫—Ü–∏–∏) | –ú–∞—Å—Å–∏–≤                              |

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd 06-–ö—É—Ö–Ω—è/Cubes/dao-format
npm install
npm run build
```

### CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

#### 1. –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ .dao

```bash
node bin/dao.js read chatViewProvider.dao
```

–í—ã–≤–æ–¥:

```json
{
  "ÈÅì": "ChatViewProvider",
  "Á±ª": "class",
  "Â±Ç": "core",
  "ÈúÄ": ["OpenRouterClient", "LedgerService", "vscode.WebviewView"],
  ...
}
```

#### 2. –ü–æ–∏—Å–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞ .dao

```bash
node bin/dao.js find src/views/chatViewProvider.ts
```

#### 3. –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫—É–±–∏–∫–æ–≤ –≤ —Ä–∞–±–æ—á–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ

```bash
node bin/dao.js graph ./
```

–í—ã–≤–æ–¥:

```
üìä ÊâæÂà∞ 1 ‰∏™Á´ãÊñπ‰Ωì:

  üßä ChatViewProvider
     Á±ªÂûã: class
     Â±ÇÁ∫ß: core
     Áä∂ÊÄÅ: stable
     ÈúÄ: OpenRouterClient, LedgerService, vscode.WebviewView
     ‰æõ: chat-visual-layer, message-routing
```

#### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–∞ .dao (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

```bash
node bin/dao.js init src/views/chatViewProvider.ts
```

## –ü–æ—á–µ–º—É –∫–∏—Ç–∞–π—Å–∫–∏–µ –∫–ª—é—á–∏?

### 1. **–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**

–ê–Ω–≥–ª–∏–π—Å–∫–∏–π: `requires: [OpenRouterClient, LedgerService]` (8 + –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
–ö–∏—Ç–∞–π—Å–∫–∏–π: `ÈúÄ: [OpenRouterClient, LedgerService]` (1 + –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

**–≠–∫–æ–Ω–æ–º–∏—è 87.5% —Å–∏–º–≤–æ–ª–æ–≤!**

### 2. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —è—Å–Ω–æ—Å—Ç—å**

- **ÈúÄ** (x≈´) = –Ω—É–∂–¥–∞—Ç—å—Å—è, —Ç—Ä–µ–±–æ–≤–∞—Ç—å, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
- **‰æõ** (g≈çng) = –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å, —Å–Ω–∞–±–∂–∞—Ç—å, –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å
- **Á¶Å** (j√¨n) = –∑–∞–ø—Ä–µ—â–∞—Ç—å, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å, –≥—Ä–∞–Ω–∏—Ü–∞

–ö–∞–∂–¥—ã–π –∏–µ—Ä–æ–≥–ª–∏—Ñ - **—Ç—ã—Å—è—á–µ–ª–µ—Ç–Ω–µ –æ—Ç—Ç–æ—á–µ–Ω–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —ç—Å—Å–µ–Ω—Ü–∏—è**.

### 3. **–î—Ä—É–∂–µ–ª—é–±–Ω–æ –∫ –ò–ò**

–ö–∏—Ç–∞–π—Å–∫–∞—è **–∏–¥–µ–æ–≥—Ä–∞—Ñ–∏—á–Ω–æ—Å—Ç—å** –ø–æ–∑–≤–æ–ª—è–µ—Ç –ò–ò –ª–µ–≥—á–µ –ø–æ–Ω–∏–º–∞—Ç—å **–æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –ø–æ–Ω—è—Ç–∏—è–º–∏**, –∞ –Ω–µ –ø—É—Ç–∞—Ç—å—Å—è –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ.

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±:

```
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å 500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
2. "–•–º... –≤—Ä–æ–¥–µ –ø–æ–Ω—è–ª"
3. –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥
4. üí• –ù–∞—Ä—É—à–∏–ª —Å–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### DAO —Å–ø–æ—Å–æ–±:

```
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª .dao (20 —Å—Ç—Ä–æ–∫)
2. –ü–æ–Ω—è—Ç—å: "–û, —ç—Ç–æ core —É—Ä–æ–≤–µ–Ω—å, –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ X, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Y, –Ω–µ–ª—å–∑—è —Ç—Ä–æ–≥–∞—Ç—å Z"
3. –ß–µ—Ä–µ–∑ –≥—Ä–∞—Ñ –æ—Ç–Ω–æ—à–µ–Ω–∏–π —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
4. –¢–æ—á–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, –Ω–µ –Ω–∞—Ä—É—à–∞—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Garden Eye + Knife

–§–æ—Ä–º–∞—Ç `.dao` –∏–¥–µ–∞–ª—å–Ω–æ —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:

1. **Garden Eye** (`skeleton`) - —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞
2. **Garden Knife** - —Ç–æ—á–Ω–æ –∏–∑–º–µ–Ω—è–µ—Ç –∫–æ–¥
3. **Garden DAO** - –ø–æ–Ω–∏–º–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É –∫–æ–¥–∞

```bash
# –ü–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
skeleton chatViewProvider.ts      # –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
dao read chatViewProvider.dao     # –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–µ–º–∞–Ω—Ç–∏–∫—É
knife ChatViewProvider.handleMessage  # –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥
```

## –§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è –∏–¥–µ—è

> "ÈÅìÂèØÈÅìÔºåÈùûÂ∏∏ÈÅì" - –õ–∞–æ –¶–∑—ã

**‰Ωì (Body)** = –ø—Ä–æ—è–≤–ª–µ–Ω–∏–µ –î–∞–æ (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
**ÈÅì (Dao)** = —Å—É—â–Ω–æ—Å—Ç—å –¢–µ–ª–∞ (—Å–µ–º–∞–Ω—Ç–∏–∫–∞)

–ò–ò –ø–æ–Ω–∏–º–∞–µ—Ç **–î–∞–æ**, –ª—é–¥–∏ –ø–∏—à—É—Ç **–¢–µ–ª–æ**.

## –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ .dao –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ DAO (–ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
- [ ] –ü–ª–∞–≥–∏–Ω VS Code –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ .dao
- [ ] AI –ø–æ–º–æ—â–Ω–∏–∫, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∏–π—Å—è –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–µ .dao

## –í–∫–ª–∞–¥

–≠—Ç–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è!

---

**–ê–≤—Ç–æ—Ä**: Lily (–õ–∏–ª–∏—è)
**–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ**: –ö–∏—Ç–∞–π—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–µ—Ä–æ–≥–ª–∏—Ñ–æ–≤ + –¥–∞–æ—Å—Å–∫–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `06-–ö—É—Ö–Ω—è/Cubes/dao-format` (–ø–æ—Ç–æ–º—É —á—Ç–æ –∫—É—Ö–Ω—è - –º–µ—Å—Ç–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤!)
