# Mana Agent üîÆ

AI Agent —Å —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ **–º–∞–Ω—ã** ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Copilot/Codex –æ—Ç Lily's Castle.

## –§–∏–ª–æ—Å–æ—Ñ–∏—è

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤, Mana Agent –∏–º–µ–µ—Ç "–∂–∏–∑–Ω–µ–Ω–Ω—É—é —Å–∏–ª—É" (–º–∞–Ω—É), –∫–æ—Ç–æ—Ä–∞—è:
- **–†–∞—Å—Ç—ë—Ç** –ø—Ä–∏ —É—Å–ø–µ—à–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
- **–¢–µ—Ä—è–µ—Ç—Å—è** –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–∞—Ö
- **–ö–≤–∞–Ω—Ç–æ–≤–∞–Ω–∞ –ø–æ —Ä–∞–Ω–≥–∞–º** ‚Äî –Ω–µ—Ç –ª–∏–Ω–µ–π–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
1. **–ù–∏–∫–∞–∫–∏—Ö –Ω–∞–∫–∞–∑–∞–Ω–∏–π** ‚Äî —Ç–æ–ª—å–∫–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–∞–≥—Ä–∞–¥—ã
2. **Thinking –±–µ—Å–ø–ª–∞—Ç–µ–Ω** ‚Äî –¥—É–º–∞–π —Å–∫–æ–ª—å–∫–æ —Ö–æ—á–µ—à—å
3. **Action —Å—Ç–æ–∏—Ç –º–∞–Ω—É** ‚Äî –∫–æ–º–º–∏—Ç —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º
4. **–£—Å–ø–µ—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞–Ω—É + –±–æ–Ω—É—Å**
5. **–ü—Ä–æ–≤–∞–ª = –ø–æ—Ç–µ—Ä—è –∫–æ–º–º–∏—Ç–∞**

## –†–∞–Ω–≥–∏

| –†–∞–Ω–≥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ú–∞–∫—Å. –º–∞–Ω–∞ |
|------|----------|------------|
| 0 | –ò—Å–∫—Ä–∞ | 10 |
| 1 | –£—á–µ–Ω–∏–∫ | 30 |
| 2 | –ê–¥–µ–ø—Ç | 100 |
| 3 | –ú–∞—Å—Ç–µ—Ä | 300 |
| 4 | –ú–∞–≥–∏—Å—Ç—Ä | 1000 |
| 5 | –ê—Ä—Ö–∏–º–∞–≥ | 3000 |
| 6 | –í—ã—Å—à–∏–π | 10000 |
| 7+ | –¢—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç | ‚àû |

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –≤ —á–∞—Ç–µ:

```
@mana /status   ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –º–∞–Ω—ã –∏ —Ä–∞–Ω–≥–∞
@mana /think    ‚Äî –†–µ–∂–∏–º —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ –¥–µ–π—Å—Ç–≤–∏–π)
@mana /act      ‚Äî –†–µ–∂–∏–º –¥–µ–π—Å—Ç–≤–∏—è (–∫–æ–º–º–∏—Ç –º–∞–Ω—ã, —Ä–µ–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
@mana           ‚Äî –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è + –ø–æ–¥—Å–∫–∞–∑–∫–∏)
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–≤ —Ä–µ–∂–∏–º–µ /act):

- `readFile` ‚Äî –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–Ω–∏–∑–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å)
- `writeFile` ‚Äî –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ (—Å—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å)
- `runCommand` ‚Äî –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (–≤—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å)
- `listFiles` ‚Äî –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ (–æ—á–µ–Ω—å –Ω–∏–∑–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```powershell
cd mana-agent
npm install
npm run compile
```

–ó–∞—Ç–µ–º –Ω–∞–∂–º–∏ F5 –≤ VS Code –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Extension Development Host.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö VS Code (`settings.json`):

```json
{
  "mana-agent.initialMana": 10,
  "mana-agent.manaPerToken": 0.001,
  "mana-agent.successMultiplier": 1.5,
  "mana-agent.rankThresholds": [10, 30, 100, 300, 1000, 3000, 10000]
}
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
mana-agent/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ extension.ts        # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ mana/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stateManager.ts # Core mana logic
‚îÇ   ‚îú‚îÄ‚îÄ chat/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ participant.ts  # @mana chat handler
‚îÇ   ‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ registry.ts     # Available tools
‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îÇ       ‚îî‚îÄ‚îÄ statusProvider.ts # Sidebar webview
‚îú‚îÄ‚îÄ resources/
‚îÇ   ‚îî‚îÄ‚îÄ mana-icon.svg       # Extension icon
‚îî‚îÄ‚îÄ package.json            # Extension manifest
```

## Roadmap

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ LLM (OpenRouter, Ollama)
- [ ] –ò–µ—Ä–∞—Ä—Ö–∏—è –∞–≥–µ–Ω—Ç–æ–≤ (–≥–µ–Ω–µ—Ä–∞–ª—ã ‚Üí –∫–∞–ø–∏—Ç–∞–Ω—ã ‚Üí —Å–µ—Ä–∂–∞–Ω—Ç—ã)
- [ ] Persistence –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ (JSON state)
- [ ] –°–≤—è–∑—å —Å —Ä–µ–∞–ª—å–Ω—ã–º –∫–æ—à–µ–ª—å–∫–æ–º (urgency mode)
- [ ] Tool confirmation UI
- [ ] Mana regeneration over time

---

*–°–æ–∑–¥–∞–Ω–æ –≤ Lily's Castle ‚Äî —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ –¥–ª—è AI —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.*
