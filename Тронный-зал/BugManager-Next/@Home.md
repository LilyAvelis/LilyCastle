# Дальнейшие шаги для Bug Manager

## 1. Индивидуальное управление жуком

- **Цель:** выбрать конкретного жука в UI и менять его свойства (имя, язык, эмодзи, описание, оригинальную комнату и т.д.).
- **Backend:** добавить API, которое принимает путь к `.bug` файлу, валидирует данные и обновляет JSON на диске.
- **UI:** модальное окно/панель редактирования с формой и превью эмодзи. После сохранения — локально обновлять состояние, а затем повторно запрашивать `/api/bugs`.
- **Безопасность:** валидация допустимых ключей, блокировка параллельных записей.

## 2. Массовое обновление структуры `.bug`

- **Цель:** менеджер задаёт новое свойство (ключ + значение или тип значения), и оно синхронно добавляется/обновляется во всех `.bug` файлах.
- **Backend:** отдельный API-эндпойнт, который перебирает все файлы и применяет патч (например, через `fs.readFile` -> merge -> `fs.writeFile`).
- **UI:** форма "Добавить/удалить свойство" с возможностью выбрать тип (строка/число/булево/JSON), предпросмотр итогового ключа и отчёт об успехе/ошибках.
- **Журналирование:** писать лог, какие файлы обновлены, какие пропущены.

## 3. Ненслучайное перемещение жуков (drag & drop)

- **Функциональность:** перетаскивание карточки жука между комнатами в интерфейсе.
- **Транспорт:** drag-and-drop библиотека (например, `@dnd-kit` или `react-beautiful-dnd`).
- **Backend:** API для перемещения, которое переносит папку жука в новую комнату (т.е. физическое перемещение директории) и обновляет `.bug` (можно записывать поле `current_room`).
- **UX:** подсветка валидных целей, предупреждение перед перемещением, уведомление об успехе.

## 4. Улучшения инфраструктуры

- Конфигурационный файл (напр. `bug-manager.config.json`) с путём к замку, чтобы не хардкодить `c:\Users\Public\LilyCastle`.
- Юнит-тесты для API и файловых операций (можно начать с Vitest).
- Логи и статусная панель (активные операции, прогресс массовых обновлений).

Эти пункты превратят текущий интерфейс из "радарной" панели в полноценный менеджер, где можно таргетировать и редактировать любого жука, управлять схемой `.bug` и вручную распределять армию по комнатам.
