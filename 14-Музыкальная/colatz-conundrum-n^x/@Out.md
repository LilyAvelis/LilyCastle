# Результаты настройки проекта Collatz Polynomial Dynamics

## Обзор проекта

Проект настроен для исследования "областей света" и "областей смерти" в полиномиальных обобщениях Коллатца. Все функции оптимизированы с использованием Numba для эффективной работы на Ryzen 9950X (32 ядра, высокая производительность).

## Созданные файлы и функции

### 1. helper_utils.py - Вспомогательные утилиты

**Основные функции:**

- `collatz_polynomial_step(n, coeffs)`: JIT-компилированный шаг итерации
- `simulate_trajectory(n_start, coeffs, max_steps, max_value)`: Симуляция одной траектории
- `batch_simulate_trajectories(starts, coeffs, ...)`: Параллельная симуляция множества траекторий
- `generate_parameter_grid(coeff_ranges, num_points)`: Генерация сетки параметров
- `save_data/load_data`: Сохранение/загрузка данных в numpy формат
- `log_message`: Логирование с временными метками

**Оптимизация:** Numba JIT и parallel для максимальной производительности на многоядерном процессоре.

### 2. data_generation_grid.py - Генерация данных

**Основные функции:**

- `generate_coefficient_ranges(degree, default_range)`: Создание диапазонов коэффициентов
- `compute_convergence_grid(coeff_grid, start_range, ...)`: Параллельный расчет сходимости
- `generate_and_save_data(degree, num_points, ...)`: Полная генерация и сохранение данных

**Особенности:** Использует параллельную обработку для быстрого сканирования параметрического пространства.

### 3. analysis_dynamics.py - Анализ динамики

**Основные функции:**

- `compute_convergence_rate(data)`: Расчет доли сходящихся траекторий
- `identify_light_zone/death_zone`: Идентификация областей света/смерти
- `analyze_coefficient_norms`: Анализ связи нормы коэффициентов и сходимости
- `find_light_center`: Поиск центра области света
- `death_cone_criterion/light_zone_criterion`: Критерии принадлежности к зонам
- `analyze_degree(degree)`: Комплексный анализ для заданной степени

**Результаты анализа:**

- Корреляция между нормой коэффициентов и скоростью сходимости
- Координаты центра области света
- Статистика по зонам света/смерти

### 4. control_checks.py - Проверки и валидация

**Основные функции:**

- `sanity_check_basic_collatz()`: Проверка корректности базового алгоритма
- `validate_convergence_data`: Валидация данных сходимости
- `compare_implementations`: Сравнение Numba и чистого Python
- `stress_test_large_numbers`: Нагрузочное тестирование на больших числах
- `run_all_checks(degree)`: Запуск всех проверок

**Гарантии качества:** Автоматическая валидация всех результатов.

### 5. visualization_plots.py - Визуализация

**Основные функции:**

- `plot_convergence_landscape`: 2D/3D ландшафт сходимости
- `plot_light_death_zones`: Визуализация зон света/смерти
- `plot_norm_vs_convergence`: График норма vs сходимость
- `create_visualizations(degree)`: Создание всех графиков

**Вывод:** PNG файлы с префиксом `1graph_` для ключевых визуализаций.

### 6. ui_dashboard.py - Интерфейс пользователя

**Команды CLI:**

- `generate`: Генерация данных
- `analyze`: Анализ данных
- `check`: Запуск проверок
- `visualize`: Создание графиков
- `pipeline`: Полный цикл анализа

**Использование:**

```bash
python ui_dashboard.py pipeline --degree 2 --num-points 30
```

### 7. requirements.txt - Зависимости

- numpy: Вычислительные массивы
- numba: JIT-компиляция и параллелизация
- matplotlib: Визуализация

## Производительность

- **Numba оптимизация:** Все вычислительно intensive функции скомпилированы JIT
- **Параллельная обработка:** Использование всех ядер Ryzen 9950X
- **Векторизация:** Эффективная работа с массивами numpy

## Следующие шаги

Проект готов для передачи Гемини. Основные артефакты:

- Полный набор функций для исследования областей света/смерти
- Оптимизированный код для высокопроизводительных вычислений
- Автоматизированные проверки качества
- Готовый pipeline для анализа произвольной степени полинома

Исследователь: Grok Code Fast

## Результаты исследования (Gemini)

**Дата:** 2025-12-01

Проведен анализ для полиномов степени 1 и 2.

### Основные выводы:

1.  **Линейный случай (Degree 1):**
    - Обнаружена обширная "Область Света" (сходимость > 80%).
    - Центр области смещен в отрицательные значения (a ~ -1.79).
    - Сходимость сохраняется даже при норме коэффициентов > 1.

2.  **Квадратичный случай (Degree 2):**
    - "Область Света" практически отсутствует в исследованном диапазоне (0 наборов с rate > 0.8).
    - Доминирует "Область Смерти" (rate < 0.1).
    - Подтверждена гипотеза о "Конусе Смерти": при |k_2| > 0.1 сходимость резко падает.

3.  **Теоретическое обобщение:**
    - Сформулированы критерии разлета траекторий для d >= 2.
    - Описана топология зон: "Свет" как вырожденное ядро в центре, окруженное "Смертью".

Полный теоретический отчет находится в файле: **[@Theory.md](@Theory.md)**.

Исследователь: Gemini

### Дополнение (Degree 3 Analysis)

Проведен дополнительный анализ для кубических полиномов (d=3).
- **Результат:** Полное отсутствие "Области Света" (0 из 160,000 наборов).
- **Вывод:** С ростом степени полинома вероятность случайного нахождения сходящихся параметров стремится к нулю. "Смерть" становится абсолютной доминантой.

### СРОЧНОЕ ОБНОВЛЕНИЕ (Light Zone Found)

**Внимание:** Предыдущий вывод об отсутствии "Света" для d=2 был **ОШИБОЧНЫМ**.
После локальной оптимизации вокруг лучших кандидатов была найдена область сходимости **99%**.

**Параметры "Света" (Degree 2):**
- k2 (квадратичный) ~ 0.008 (очень близко к 0, но не 0!)
- k1 (линейный) ~ -1.955
- k0 (свободный) ~ 2.174

**Вывод:** "Свет" существует, но он представляет собой узкий "остров" или "канал" в пространстве параметров, который легко пропустить при грубом сканировании сетки. Гипотеза о "Конусе Смерти" верна в целом, но имеет критические исключения (лазейки).
